```mermaid
graph TD
    A[开始] --> B[接收短信内容]
    B --> C[清理短信内容]
    C --> D{检查签名}
    D -->|饿了么| E[直接通过]
    D -->|包含特殊关键词：政府机构| E
    D -->|中性签名| F1[扣50分] 
    D -->|正常签名| F[获取业务类型]
    
    F1 --> F
    
    F --> G{业务类型判断}
    
    %% 行业类检测流程
    G -->|行业类| H[行业类评分]
    H --> H1[基础分: 90/100]
    H1 --> H2[检查私人号码]
    H2 -->|包含| M[直接驳回]
    H2 -->|不包含| H3[检查营销关键词]
    H3 --> H4[检查强营销关键词]
    H4 --> H5[检查积分营销关键词]
    H5 --> H6[检查积分到期关键词]
    
    H6 --> H7{行业子类型}
    H7 -->|行业-通知| H8[通知类检测]
    H7 -->|行业-物流| H9[物流类检测]
    
    H8 --> H10[签名验证]
    H10 --> H11[检查直播相关内容]
    H11 --> H12[检查公众号关键词]
    H12 --> H13[检查招聘相关词]
    H13 --> H14[检查会议相关词]
    H14 --> H15[检查交友相关词]
    H15 --> H16[检查征兵相关词]
    H16 --> H17[检查教育营销相关词]
    H17 --> H18[检查教育营销弱关键词]
    
    H9 --> H19[检查物流关键词]
    
    %% 会销类检测流程
    G -->|会销类| I[会销类评分]
    I --> I1[基础分: 100/100]
    I1 --> I2[检查私人号码]
    I2 -->|包含| M
    I2 -->|不包含| I3[检查营销关键词]
    I3 --> I4[检查强营销关键词]
    I4 --> I5[检查积分营销关键词]
    I5 --> I6[检查积分到期关键词]
    
    I6 --> I7{会销子类型}
    I7 -->|会销-普通| I8[普通会销检测]
    I7 -->|会销-金融| I9[金融会销检测]
    
    I8 --> I10[检查活动类特征词]
    I10 --> I11[检查会员服务相关词]
    I11 --> I12[检查微信公众号关键词]
    
    %% 拉新类检测流程
    G -->|拉新类| J[拉新类评分]
    J --> J1[基础分: 85/100]
    J1 --> J2[检查私人号码]
    J2 -->|包含| M
    J2 -->|不包含| J3[检查营销关键词]
    J3 --> J4{拉新子类型}
    
    J4 -->|拉新-催收| J5[催收类检测]
    J4 -->|拉新-教育| J6[教育类检测]
    J4 -->|拉新-网贷| J7[网贷类检测]
    J4 -->|拉新-展会| J8[展会类检测]
    J4 -->|拉新-医美| J9[医美类检测]
    J4 -->|拉新-pos机| J10[pos机类检测]
    
    %% 最终评分判断
    H18 --> AE[计算最终得分]
    H19 --> AE
    I12 --> AE
    J5 --> AE
    J6 --> AE
    J7 --> AE
    J8 --> AE
    J9 --> AE
    J10 --> AE
    
    AE --> AF{得分判断}
    AF -->|大于等于及格线| AG[通过]
    AF -->|小于及格线| AH[驳回]
    
    AG --> AI[输出结果]
    AH --> AI
    M --> AI
    E --> AI